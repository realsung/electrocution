{"version":3,"sources":["../../src/utils/utils.js"],"names":["fs","require","dir","os","path","file_exist","file","lstatSync","e","is_directory","statSync","isDirectory","list_files","files","promiseFiles","then","filter","_file","indexOf","includes","extension","toLowerCase","catch","console","error","read_file","readFileSync","slice","lastIndexOf","module","exports"],"mappings":"AAAA,MAAMA,KAAKC,QAAQ,IAAR,CAAX;AACA,MAAMC,MAAMD,QAAQ,UAAR,CAAZ;AACA,MAAME,KAAKF,QAAQ,IAAR,CAAX;AACA,MAAMG,OAAOH,QAAQ,MAAR,CAAb;;AAEA;;;;AAIA,SAASI,UAAT,CAAoBC,IAApB,EAA0B;AACtB,QAAI;AACA,eAAON,GAAGO,SAAH,CAAaD,IAAb,CAAP;AACH,KAFD,CAEE,OAAME,CAAN,EAAS;AACP,eAAO,KAAP;AACH;AACJ;;AAED;;;;AAIA,SAASC,YAAT,CAAsBP,GAAtB,EAA2B;AACvB,WAAOF,GAAGU,QAAH,CAAYR,GAAZ,EAAiBS,WAAjB,EAAP;AACH;;AAED;;;;AAIA,eAAeC,UAAf,CAA0BC,KAA1B,EAAgC;AAC5B,WAAOX,IAAIY,YAAJ,CAAiBD,KAAjB,EACJE,IADI,CACCT,QAAQ;AACZA,eAAOA,KAAKU,MAAL,CAAYC,SAAS;AACxB,mBAAOA,MAAMC,OAAN,CAAc,cAAd,MAAkC,CAAC,CAAnC,KACN,CAAC,IAAD,EAAO,KAAP,EAAc,IAAd,EAAoB,MAApB,EAA4B,KAA5B,EAAmC,KAAnC,EAA0CC,QAA1C,CAAmDC,UAAUH,KAAV,CAAnD,KACDA,MAAMI,WAAN,GAAoBH,OAApB,CAA4B,mBAA5B,IAAmD,CAAC,CADnD,IAEDD,MAAMI,WAAN,GAAoBH,OAApB,CAA4B,cAA5B,IAA8C,CAAC,CAF9C,IAGDD,MAAMI,WAAN,GAAoBH,OAApB,CAA4B,WAA5B,IAA2C,CAAC,CAJrC,CAAP;AAKH,SANM,CAAP;AAOA,eAAOZ,IAAP;AACD,KAVI,EAWJgB,KAXI,CAWEC,QAAQC,KAXV,CAAP;AAYH;;AAED;;;;AAIA,SAASC,SAAT,CAAmBnB,IAAnB,EAAyB;AACrB,WAAON,GAAG0B,YAAH,CAAgBpB,IAAhB,EAAsB,MAAtB,CAAP;AACH;;AAED;;;;AAIA,SAASc,SAAT,CAAmBd,IAAnB,EAAyB;AACrB,WAAOA,KAAKqB,KAAL,CAAW,CAACrB,KAAKsB,WAAL,CAAiB,GAAjB,IAAuB,CAAvB,KAA6B,CAA9B,IAAmC,CAA9C,EAAiDP,WAAjD,EAAP;AACH;;AAEDQ,OAAOC,OAAP,GAAiB;AACbzB,cADa;AAEbI,gBAFa;AAGbgB,aAHa;AAIbb,cAJa;AAKbQ;AALa,CAAjB","file":"utils.js","sourcesContent":["const fs = require(\"fs\");\nconst dir = require(\"node-dir\");\nconst os = require(\"os\");\nconst path = require(\"path\");\n\n/**\n * \n * @param {FileList} file \n */\nfunction file_exist(file) {\n    try {\n        return fs.lstatSync(file);\n    } catch(e) {\n        return false;\n    }\n}\n\n/**\n * \n * @param {FileList} dir \n */\nfunction is_directory(dir) {\n    return fs.statSync(dir).isDirectory();\n}\n\n/**\n * \n * @param {FileList} files \n */\nasync function list_files(files){\n    return dir.promiseFiles(files)\n      .then(file => {\n        file = file.filter(_file => {\n            return _file.indexOf('node_modules') === -1 && \n            (['js', 'jsx', 'ts', 'html', 'htm', 'tsx'].includes(extension(_file)) || \n            _file.toLowerCase().indexOf('package-lock.json') > -1 ||\n            _file.toLowerCase().indexOf('package.json') > -1 ||\n            _file.toLowerCase().indexOf('yarn.lock') > -1);\n        });\n        return file;\n      })\n      .catch(console.error);\n}\n\n/**\n * \n * @param {File} file \n */\nfunction read_file(file) {\n    return fs.readFileSync(file, 'utf8');\n}\n\n/**\n * \n * @param {String} file \n */\nfunction extension(file) {\n    return file.slice((file.lastIndexOf('.') -1 >>> 0) + 2).toLowerCase();\n}\n\nmodule.exports = {\n    file_exist,\n    is_directory,\n    read_file,\n    list_files,\n    extension,\n}"]}