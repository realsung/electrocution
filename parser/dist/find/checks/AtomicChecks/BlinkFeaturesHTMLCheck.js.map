{"version":3,"sources":["../../../../src/find/checks/AtomicChecks/BlinkFeaturesHTMLCheck.js"],"names":["sourceTypes","severity","confidence","BlinkFeaturesHTMLCheck","constructor","id","description","type","HTML","shortenedURL","match","cheerioObj","content","loc","webviews","self","each","i","elem","wp","attr","push","line","substr","startIndex","split","length","column","LOW","CERTAIN","manualReview"],"mappings":"AAAA,SAASA,WAAT,QAA4B,uBAA5B;AACA,SAASC,QAAT,EAAmBC,UAAnB,QAAqC,kBAArC;;AAEA,eAAe,MAAMC,sBAAN,CAA6B;AAC1CC,gBAAc;AACZ,SAAKC,EAAL,GAAU,2BAAV;AACA,SAAKC,WAAL,GAAoB,6CAApB;AACA,SAAKC,IAAL,GAAYP,YAAYQ,IAAxB;AACA,SAAKC,YAAL,GAAoB,sBAApB;AACD;;AAEDC,QAAMC,UAAN,EAAkBC,OAAlB,EAA2B;AACzB,UAAMC,MAAM,EAAZ;AACA,UAAMC,WAAWH,WAAW,SAAX,CAAjB;AACA,UAAMI,OAAO,IAAb;AACAD,aAASE,IAAT,CAAc,UAAUC,CAAV,EAAaC,IAAb,EAAmB;AAC/B,UAAIC,KAAKR,WAAW,IAAX,EAAiBS,IAAjB,CAAsB,qBAAtB,CAAT;AACA,UAAGD,EAAH,EAAM;AACJN,YAAIQ,IAAJ,CAAS,EAAEC,MAAMV,QAAQW,MAAR,CAAe,CAAf,EAAkBL,KAAKM,UAAvB,EAAmCC,KAAnC,CAAyC,IAAzC,EAA+CC,MAAvD,EAA+DC,QAAQ,CAAvE,EAA0EtB,IAAIU,KAAKV,EAAnF,EAAuFC,aAAaS,KAAKT,WAAzG,EAAsHG,cAAcM,KAAKN,YAAzI,EAAuJR,UAAUA,SAAS2B,GAA1K,EAA+K1B,YAAYA,WAAW2B,OAAtM,EAA+MC,cAAc,IAA7N,EAAT;AACD;;AAED;AACA;AACA;AACAX,WAAKR,WAAW,IAAX,EAAiBS,IAAjB,CAAsB,eAAtB,CAAL;AACA,UAAGD,EAAH,EAAM;AACJN,YAAIQ,IAAJ,CAAS,EAAEC,MAAMV,QAAQW,MAAR,CAAe,CAAf,EAAkBL,KAAKM,UAAvB,EAAmCC,KAAnC,CAAyC,IAAzC,EAA+CC,MAAvD,EAA+DC,QAAQ,CAAvE,EAA0EtB,IAAIU,KAAKV,EAAnF,EAAuFC,aAAaS,KAAKT,WAAzG,EAAsHG,cAAcM,KAAKN,YAAzI,EAAuJR,UAAUA,SAAS2B,GAA1K,EAA+K1B,YAAYA,WAAW2B,OAAtM,EAA+MC,cAAc,IAA7N,EAAT;AACD;AACF,KAbD;AAcA,WAAOjB,GAAP;AACD;AA3ByC","file":"BlinkFeaturesHTMLCheck.js","sourcesContent":["import { sourceTypes } from '../../../parser/types';\nimport { severity, confidence } from '../../attributes';\n\nexport default class BlinkFeaturesHTMLCheck {\n  constructor() {\n    this.id = 'BLINK_FEATURES_HTML_CHECK';\n    this.description = `Do not use Chromium's experimental features`;\n    this.type = sourceTypes.HTML;\n    this.shortenedURL = \"https://git.io/Jeu19\";\n  }\n\n  match(cheerioObj, content) {\n    const loc = [];\n    const webviews = cheerioObj('webview');\n    const self = this;\n    webviews.each(function (i, elem) {\n      let wp = cheerioObj(this).attr('enableblinkfeatures');\n      if(wp){\n        loc.push({ line: content.substr(0, elem.startIndex).split('\\n').length, column: 0, id: self.id, description: self.description, shortenedURL: self.shortenedURL, severity: severity.LOW, confidence: confidence.CERTAIN, manualReview: true });\n      }\n\n      // search for both names for now\n      // todo: implement taking electron version into account\n      // https://github.com/electron/electron/blob/master/docs/api/breaking-changes.md#browserwindow\n      wp = cheerioObj(this).attr('blinkfeatures');\n      if(wp){\n        loc.push({ line: content.substr(0, elem.startIndex).split('\\n').length, column: 0, id: self.id, description: self.description, shortenedURL: self.shortenedURL, severity: severity.LOW, confidence: confidence.CERTAIN, manualReview: true });\n      }\n    });\n    return loc;\n  }\n}\n"]}