{"version":3,"sources":["../../../../../src/find/checks/AtomicChecks/8/GetColor.js"],"names":["sourceTypes","severity","confidence","GetColor","constructor","id","description","type","JAVASCRIPT","shortenedURL","match","astNode","astHelper","scope","callee","object","name","property","location","arguments","length","StringLiteral","value","line","loc","start","column","MEDIUM","CERTAIN","manualReview"],"mappings":"AAAA,SAASA,WAAT,QAA4B,0BAA5B;AACA,SAASC,QAAT,EAAmBC,UAAnB,QAAqC,qBAArC;;AAEA,eAAe,MAAMC,QAAN,CAAe;AAC5BC,gBAAc;AACZ,SAAKC,EAAL,GAAU,uBAAV;AACA,SAAKC,WAAL,GAAmB,2GAAnB;AACA,SAAKC,IAAL,GAAYP,YAAYQ,UAAxB;AACA,SAAKC,YAAL,GAAoB,sBAApB;AACD;;AAEDC,QAAMC,OAAN,EAAeC,SAAf,EAA0BC,KAA1B,EAAgC;AAC9B,QAAIF,QAAQJ,IAAR,KAAiB,gBAArB,EAAuC,OAAO,IAAP;AACvC,QAAI,EAAEI,QAAQG,MAAR,CAAeC,MAAf,IAAyBJ,QAAQG,MAAR,CAAeC,MAAf,CAAsBC,IAAtB,KAA+B,mBAA1D,CAAJ,EAAoF;AAClF,aAAO,IAAP;AACD;AACD,QAAI,EAAEL,QAAQG,MAAR,CAAeG,QAAf,IACCN,QAAQG,MAAR,CAAeG,QAAf,CAAwBD,IAAxB,KAAiC,UADpC,CAAJ,EACqD;AACnD,aAAO,IAAP;AACD;;AAED,QAAIE,WAAW,EAAf;;AAEA,QAAIP,QAAQQ,SAAR,CAAkBC,MAAlB,GAA2B,CAA/B,EAAkC;AAC9B,UAAIT,QAAQQ,SAAR,CAAkB,CAAlB,EAAqBZ,IAArB,KAA8BK,UAAUS,aAA5C,EAA2D,OAAO,IAAP;AAC3D,UAAIV,QAAQQ,SAAR,CAAkB,CAAlB,EAAqBG,KAArB,KAA+B,iCAAnC,EAAsE;AACpE,eAAO,CAAC,EAAEC,MAAMZ,QAAQa,GAAR,CAAYC,KAAZ,CAAkBF,IAA1B,EAAgCG,QAAQf,QAAQa,GAAR,CAAYC,KAAZ,CAAkBC,MAA1D,EAAkErB,IAAI,KAAKA,EAA3E,EAA+EC,aAAa,KAAKA,WAAjG,EAA8GG,cAAc,KAAKA,YAAjI,EAA+IR,UAAUA,SAAS0B,MAAlK,EAA0KzB,YAAYA,WAAW0B,OAAjM,EAA0MC,cAAc,KAAxN,EAAD,CAAP;AACD;AACJ;;AAED,WAAOX,QAAP;AACD;AA5B2B","file":"GetColor.js","sourcesContent":["import { sourceTypes } from '../../../../parser/types';\nimport { severity, confidence } from '../../../attributes';\n\nexport default class GetColor {\n  constructor() {\n    this.id = 'GET_COLOR_DEPRECATION';\n    this.description = '(ELECTRON 8) The color alternate-selected-control-text on systemPreferences.getColor(color) is deprecated';\n    this.type = sourceTypes.JAVASCRIPT;\n    this.shortenedURL = 'https://git.io/JvuxH';\n  }\n\n  match(astNode, astHelper, scope){\n    if (astNode.type !== 'CallExpression') return null;\n    if (!(astNode.callee.object && astNode.callee.object.name === 'systemPreferences')) {\n      return null;\n    }\n    if (!(astNode.callee.property\n        && astNode.callee.property.name === 'getColor')) {\n      return null;\n    }\n\n    let location = [];\n\n    if (astNode.arguments.length > 0) {\n        if (astNode.arguments[0].type !== astHelper.StringLiteral) return null;\n        if (astNode.arguments[0].value === 'alternate-selected-control-text') {\n          return [{ line: astNode.loc.start.line, column: astNode.loc.start.column, id: this.id, description: this.description, shortenedURL: this.shortenedURL, severity: severity.MEDIUM, confidence: confidence.CERTAIN, manualReview: false }];\n        }\n    }\n\n    return location;\n  }\n}"]}