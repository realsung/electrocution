{"version":3,"sources":["../../../../../src/find/checks/AtomicChecks/8/VisibleOnFullScreen.js"],"names":["sourceTypes","severity","confidence","VisibleOnFullScreen","constructor","id","description","type","JAVASCRIPT","shortenedURL","match","astNode","astHelper","scope","callee","property","name","location","arguments","length","found_nodes","findNodeByType","PropertyName","PropertyDepth","node","key","push","line","loc","start","column","MEDIUM","CERTAIN","manualReview"],"mappings":"AAAA,SAASA,WAAT,QAA4B,0BAA5B;AACA,SAASC,QAAT,EAAmBC,UAAnB,QAAqC,qBAArC;;AAEA,eAAe,MAAMC,mBAAN,CAA0B;AACvCC,gBAAc;AACZ,SAAKC,EAAL,GAAU,mCAAV;AACA,SAAKC,WAAL,GAAoB,sGAApB;AACA,SAAKC,IAAL,GAAYP,YAAYQ,UAAxB;AACA,SAAKC,YAAL,GAAoB,sBAApB;AACD;;AAEDC,QAAMC,OAAN,EAAeC,SAAf,EAA0BC,KAA1B,EAAgC;AAC9B,QAAIF,QAAQJ,IAAR,KAAiB,gBAArB,EAAuC,OAAO,IAAP;AACvC,QAAI,CAACI,QAAQG,MAAR,CAAeC,QAAhB,IAA4BJ,QAAQG,MAAR,CAAeC,QAAf,CAAwBC,IAAxB,KAAiC,2BAAjE,EAA8F;AAC5F,aAAO,IAAP;AACD;;AAED,QAAIC,WAAW,EAAf;;AAEA,QAAIN,QAAQO,SAAR,CAAkBC,MAAlB,GAA2B,CAA/B,EAAkC;AAChC,UAAIR,QAAQO,SAAR,CAAkBC,MAAlB,GAA2B,CAA/B,EAAkC;AAChC,YAAIR,QAAQO,SAAR,CAAkB,CAAlB,EAAqBX,IAArB,KAA8B,kBAAlC,EAAsD,OAAO,IAAP;AACtD,cAAMa,cAAcR,UAAUS,cAAV,CAAyBV,QAAQO,SAAR,CAAkB,CAAlB,CAAzB,EAClBN,UAAUU,YADQ,EAElBV,UAAUW,aAFQ,EAGlB,KAHkB,EAIlBC,QAASA,KAAKC,GAAL,CAAST,IAAT,KAAkB,qBAJT,CAApB;;AAMA,aAAK,MAAMQ,IAAX,IAAmBJ,WAAnB,EAAgC;AAC5BH,mBAASS,IAAT,CAAc,EAAEC,MAAMH,KAAKC,GAAL,CAASG,GAAT,CAAaC,KAAb,CAAmBF,IAA3B,EAAiCG,QAAQN,KAAKC,GAAL,CAASG,GAAT,CAAaC,KAAb,CAAmBC,MAA5D,EAAoEzB,IAAI,KAAKA,EAA7E,EAAiFC,aAAa,KAAKA,WAAnG,EAAgHG,cAAc,KAAKA,YAAnI,EAAiJR,UAAUA,SAAS8B,MAApK,EAA4K7B,YAAYA,WAAW8B,OAAnM,EAA4MC,cAAc,KAA1N,EAAd;AACH;AACF;AACF;;AAED,WAAOhB,QAAP;AACD;AAhCsC","file":"VisibleOnFullScreen.js","sourcesContent":["import { sourceTypes } from '../../../../parser/types';\nimport { severity, confidence } from '../../../attributes';\n\nexport default class VisibleOnFullScreen {\n  constructor() {\n    this.id = 'VISIBLE_ON_FULLSCREEN_DEPRECATION';\n    this.description = `(ELECTRON 8) The option visibleOnFullScreen on BrowserWindow.setVisibleOnAllWorkspaces is deprecated`;\n    this.type = sourceTypes.JAVASCRIPT;\n    this.shortenedURL = 'https://git.io/Jvuxx';\n  }\n\n  match(astNode, astHelper, scope){\n    if (astNode.type !== 'CallExpression') return null;\n    if (!astNode.callee.property || astNode.callee.property.name !== 'setVisibleOnAllWorkspaces') {\n      return null;\n    }\n\n    let location = [];\n\n    if (astNode.arguments.length > 0) {\n      if (astNode.arguments.length > 1) {\n        if (astNode.arguments[1].type !== 'ObjectExpression') return null;\n        const found_nodes = astHelper.findNodeByType(astNode.arguments[1],\n          astHelper.PropertyName,\n          astHelper.PropertyDepth,\n          false,\n          node => (node.key.name === 'visibleOnFullScreen'));\n\n        for (const node of found_nodes) {\n            location.push({ line: node.key.loc.start.line, column: node.key.loc.start.column, id: this.id, description: this.description, shortenedURL: this.shortenedURL, severity: severity.MEDIUM, confidence: confidence.CERTAIN, manualReview: false });\n        }\n      }\n    }\n\n    return location;\n  }\n}"]}